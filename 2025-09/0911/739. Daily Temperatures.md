# 📝 알고리즘 문제 풀이 - 2025-09-08

## 문제 📖

- **문제 링크:** [leetcode - 739. Daily Temperatures](https://leetcode.com/problems/daily-temperatures/description/)

- **문제 유형:** stack

- **난이도:** medium

- **풀이 시간:** ⏳ 40분
## ✍ 접근 방식

초기 접근 방식 - 그냥 반복문을 이용

```
/**
 * @param {number[]} temperatures
 * @return {number[]}
 */
var dailyTemperatures = function (temperatures) {
    const answer = []
    let index = 0
    while (index < temperatures.length) {
        let exist = false
        for (let i = index + 1; i<temperatures.length ; i++) {
            if (temperatures[index] < temperatures[i]) {
                answer.push(i - index)
                exist = true
                break;
            }
        }
        if (!exist) answer.push(0)
        index += 1
    }
    return answer

};
```

해답법

### 1. **스택에 인덱스를 저장한다**

- 스택에는 **온도 값**이 아니라 **인덱스**를 넣어요.
    
    이유는 **며칠 차이**를 구하려면 결국 `현재 인덱스 - 이전 인덱스`가 필요하기 때문이에요.
    

### 2. **스택은 "내림차순"을 유지**

- 스택에 담긴 인덱스들은 온도가 **감소하는 순서**로 정렬돼 있어요.
- 새로운 온도가 스택 맨 위보다 높아지는 순간 →
    
    그 온도는 스택에 있던 인덱스들의 "정답"을 줄 수 있는 날이 됨.
    
- 그래서 **스택에서 pop**하면서 정답(`result[idx] = i - idx`)을 채웁니다.

- **최적화 아이디어**
    - "앞에서 찾은 정보"를 활용하고 싶음.
    - 온도가 **내림차순으로 쌓일 때만 스택에 저장**하면,
        
        새로운 더 따뜻한 날이 나오면 스택에 쌓인 여러 날의 답을 한 번에 채울 수 있음.
        
    - 이렇게 하면 각 인덱스가 **스택에 들어갔다 한 번만 빠짐** → O(n)으로 해결 가능.

## ✨ 결론 (핵심 키워드)

- **Monotonic Stack (단조 스택)** : 스택 안은 항상 내림차순을 유지.
- **인덱스 기반 계산** : 값 대신 인덱스를 저장해서 거리 계산을 쉽게 함.
- **O(n) 풀이** : 각 인덱스가 한 번 push + 한 번 pop → 선형 시간에 해결.

풀이 만 보고 로직 작성

```jsx
//순서를 유지해야하기 때문에 stack or deque 
//온도 대신 index number을 stack에 담는다고? 
//왜냐면 참조를 해야하기 때문에 
//**결과 배열(res)**은 미리 0으로 채워서 초기화합니다.
//이렇게 하면 더 따뜻한 날이 없는 경우(마지막 날 등)는 따로 처리하지 않아도 됩니다.
var dailyTemperatures = function (temperatures) {
    const answer = new Array(temperatures.length).fill(0)
    const stack = []

    let index = 0
    while (index < temperatures.length) {
        if (stack.length === 0) {
            stack.push(index)
            index += 1
            continue;
        }

        while (temperatures[stack.at(-1)] < temperatures[index]) {
            let a = stack.pop()
            answer[a] = index - a

        }

        stack.push(index)
        index += 1

    }

    return answer
};
```

풀이

```
/**
 * @param {number[]} temperatures
 * @return {number[]}
 */

var dailyTemperatures = function (temperatures) {
    const result = new Array(temperatures.length).fill(0)
    const stack = []
    for (let i = 0; i < temperatures.length; i++) {
        while (stack.length > 0 && temperatures[i] > temperatures[stack[stack.length - 1]]) {
            const idx = stack.pop();
            result[idx] = i - idx;
        }
        stack.push(i);
    }

    return result
};
```